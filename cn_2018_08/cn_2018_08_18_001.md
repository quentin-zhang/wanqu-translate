如果您熟悉部署过程中,很有可能你熟悉的重复步骤集之前努力完成生产。这不是一个过程被描述为“有趣”,但它仍然很重要。 
 但如果我们可以部署和发布应用程序的推动真正的按钮吗?在这篇文章中,我们将复习如何使你自己的“船”按钮部署一个新版本。 
  
 要跟随本教程,您需要: 
 一个AWS帐户:创建一个AWS帐户。你需要创建一个Amazon.com即使你有一个帐户。我们将使用AWSλ工具调用GitHub API。 
 注意:这个服务费你使用的数据。您还可以使用一个虚拟的破折号按钮从你的手机服务。从我们的指南和代码可以连接到任何应用程序没有AWS。 
 GitHub API访问令牌:个人访问令牌可以验证你是谁在使用GitHub通过API或编程方式。生成一个: 
 一旦你完成了设置所有的先决条件,开始与其他的设置过程。 
 使用节点。js调用GitHub API和Octokit /休息。js库包装API调用。Octokit工作像其他库和使用GitHub REST API endpoints-but它还允许我们使用等待,异步,承诺,和回调函数包装器都包含。另外,我们可以开始时进行身份验证,然后执行我们的电话。 
 让我们看看索引。js文件我们将创建。 
 在文件的顶部,我们需要Octokit npm包: 
 然后我们验证GitHub使用新创建的个人访问令牌: 
 使用AWSλ,我们需要一个处理程序理解当按钮被单击时该做什么。我们添加包装: 
 在出口。处理函数,你会发现版本。GitHub发布API是一个隐藏的宝石安置在存储库API。您可以创建一个草案,预映,设置部门释放,更从一个API调用。 
 对于这种情况我们会得到最新版本和增量。然后我们将发布一个新版本每次点击的按钮。 
 下面的方法都是承诺,将创建一个新版本一旦最新版本被检索。为此,我们需要我们的GitHub用户名、回购我们想释放,tag_name当创建它。有几个可选的细节我们可以添加,但是这里是最基本的: 
 除了创建一个版本中,我们将开始部署通过调用部署在GitHub API。我们可以通过指定登录,回购,分公司要部署,并可选地,描述: 
 一旦发布和部署方法是在事件处理程序的代码几乎是集。我们使用的节点。js,所以确保npm运行init和npm安装@octokit /休息,以确保环境设置。 
 存储库创建整个设置过程和步骤3中你可以找到链接时需要调用的代码。运行代码,我们首先配置新的AWS物联网按钮。 
 设置按钮,按照AWS AWS物联网快速入门指南或下载按钮开发应用程序,可以在iOS和Android。 
 一旦你的按钮配置了无线网络,随时测试例子lambda函数发送短信或电子邮件。接下来,我们将创建一个新的函数。 
 一旦我们建立了lambda函数,我们准备发布!导航到AWS Lambda函数控制台。 
 在橙色,你会看到一个“创建函数”按钮时,你是否查看仪表板或功能。下面是详细步骤走过这个过程。如果你困,试着看这个视频介绍。 
 一旦你创建函数时,你会发现有许多不同的设置我们可以配置。我们将编辑“设计师”、“函数代码”,“环境变量”方面的功能。让我们从“设计师”。 
  
 现在我们已经设置按钮触发,我们需要确保代码是正确的。我们将步骤2中的代码和上传的zip文件。 
 如果你想使用你写的代码前,zip包的根文件夹与zip - r ShipItButton。zip。/ *或你将收到一个找不到/索引。js错误。否则,克隆存储库的内容与git克隆https://github.com/ani6gup/ShipItButton.git。确保ShipItButtonLambda。zip文件是克隆的内容。 
 一旦你有你的zip文件: 
 现在我们已经准备好测试按钮下面的步骤: 
 当你点击测试您应该能够看到新版本在您的存储库创建和部署和创建的日志,创建版本。注意:发布只会工作,如果已经有一个版本出现在数字格式(例如,1.0)。 
 你可以检查你的新版本创建repositoryURL /释放。检查记录,以确保没有错误。如果你看到{信息:未找到}或{信息:坏凭证}检查你的个人访问令牌权限。 
 现在返回到“配置触发阶段”,确保你的按钮设置。您应该能够单击按钮,得到相同的结果你得到当你测试它。 
 接下来,我们将详细介绍如何将GitHub事件引发了不同工作流中。 
 点击按钮将会触发释放和deployment-but与这些信息你会怎么做?此时,您可以配置您的工作流或部署过程。下图概述如何沟通之间的按钮或“工具”,GitHub,我们的服务器。 
 有几个部署服务和供应商可供选择。在我们使用GitHub天堂部署直接与我们的聊天机器人,Hubot。有些公司甚至改编成流。也有应用程序在GitHub市场专门帮助开发人员快速和容易的部署。 
 为了部署一个应用程序中,我们使用Probot,创建GitHub应用程序的工具和自动化工作流程的快速而简单的方法。在这种情况下,它作为一个第三方来监听部署事件和发回部署状态通过创建问题。 
 应用程序是基于GitHub交付但修改节点部署指南。js为了使用Probot。 
 在这个场景中,机器人侦听特定的GitHub事件,意思是当有人按下按钮创建一个部署应用程序知道创造和推动新的构建和提供了一个部署状态。按钮部署Heroku-their构建和发布API允许我们把GitHub发布包和部署立即从一个POST请求。 
 如果你想看看或者自己试试,了解更多在部署机器人状态存储库。 
 虽然你可能不是身体上单击一个按钮将应用程序部署到定期的产品,你可以随时触发这些GitHub事件混淆一个重复部署过程。 
 如果你需要任何额外的资源或帮助,请通过构建一个GitHub应用快速入门指南。或报名参加GitHub开发者计划,张贴在GitHub平台上论坛。 
  
  
  
 更新日志 
  
  
  
  
  
 订阅 
  
  
 市场应用免费试用14天 
  
 ©2018 
  
  
   
  URL : https://blog.github.com/2018-08-16-how-to-deploy-to-production-with-an-actual-button/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website