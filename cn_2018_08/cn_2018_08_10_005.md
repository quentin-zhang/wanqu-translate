艾伦·勒普顿重要著作中写道,“思考型”,“排版就是语言的样子。”你的字体选择影响游客感知你的网站。字体不只是字母看起来漂亮。字体是一个工具。 
 几个世纪以来,设计师们与目的字体使用。广告商使用怪物字体在19世纪画关注印刷横幅。报纸的衬线字体。《纽约时报》精心设计自己的版本的帝国和切尔滕纳姆。《华盛顿邮报》Postoni建造的,一种来源于永恒的博多尼活字字体。科技公司避免了衬线的圆的,友好的,现代的无衬线字体。谷物是Airbnb的创造。他们建的统一品牌在网络,Android,iOS和打印。 
 字体就像一只鞋。而不是选择一对基于他们的看,你选择的事件。你对雨果的老板婚礼礼服鞋帮助创建了基调。但在5公里公路赛你最好在你的asic。正确地使用字体定下基调你想为您的网站的品牌。但这是有代价的。 
 2010年,谷歌推出了Google字体和自定义web字体访问世界。你有一个自定义的字体在你的网站上只有几行复制粘贴CSS。 
 引擎盖下面谷歌字体链接样式表的字体声明。 
 这个设置简单的敏感度要高于性能。但它会导致一个严重的问题在低速连接:FOIT。 
 大多数现代浏览器将布局页面但等待三秒之前呈现任何文本。如果自定义字体加载它会出现,如果不是下一个可用的后备字体呈现。这被称为FOIT。在糟糕的3 g连接这通常意味着网站的三秒没有文本。 
 谷歌字体试图拯救你。选择多个字体影响“加载时间”的标签。因为在此设置中,字体选择越多FOIT的机会。 
 这是妥协吗?加载更多的字体,处理无形的文本区域。这样当你使用字体。谢天谢地有更多的性能,但更复杂的方式。 
 新闻内容是网上最有趣的地方之一。读者期望内容快速和免费的。新闻网站依靠渲染屏蔽广告和字体等资产。平衡这些偏振需求是迷人的。作为一个小测试,我建立了一个新闻网站。 
 现在很明显,这是一个小规模的web页面。不会有任何广告,甚至JavaScript。这次演习的目的是开始从默认的加载方式从谷歌字体和改善。满足Web公报》。 
 Web公报使用7字体:贝文,奥斯瓦尔德,Fjalla,Cincel装饰,EB加拉蒙字体,EB加拉蒙字体斜体,EB加拉蒙字体加粗。每个字体的选择是有选择性的。 
 所有这些字体有必要吗?不。但让我们看看我们如何快速加载页面通过使用所有的七个。把字体加载提示。 
 WebPageTest是最好的免费工具分析页面加载。它允许您节流连接和使用真正的移动设备。在这项研究中,我们将使用“简单”形象,这是一个缓慢的3 g连接。结果WebPageTest提供全面但有时难以理解。 
 您将注意到第一个指标是“第一个观点”。老实说,它经常误导。之前一个网站可以有用或无用的WebPageTest注册“第一个观点”。在这种情况下WPT说网站的第一个观点是7.1秒,这是一个好的连接速度加载时间。但要理解发生了什么,我们必须更深。“幻灯片视图”。 
 “幻灯片视图”给你一个深度的看法发生了什么一秒一秒或者甚至逐帧在页面加载。它还提供了一个瀑布图,看看资产加载在幻灯片的时间表。网页公报》显然是充满了FOIT。这个网站是FOIT-filled直到7.7秒, 
 然后在7.8加载自定义字体。我们已经建立了基线。我们可以做得更好。 
 总有一个机会一个用户定制字体已经下载在电脑。有一个CSS功能:本地()。 
 这些规则告诉浏览器首先寻找贝文或Bevan-Regular之前用户的本地机器上的字体的请求。如果用户的字体,你得分。你不会遇到任何FOIT和字体将很快呈现。谷歌字体处理这个为你,但是很高兴知道。很可能不会有字体的用户,我们仍然需要处理FOIT。 
 好消息是,有一个简单的解决方案。有一个新的束缚CSS属性叫做font-display FOIT解决。font-display给你更多的控制浏览器的字体渲染。 
 有五个可能值font-display:汽车,交换,块,回退,可选的。这是它们是如何工作的。 
 这三个不同的选项来避免长期FOIT。我更喜欢使用交换,但回退和可选的是有效的选择。当我交换应用于Web公报它犯了一个巨大的差异。 
 我把谷歌字体样式表复制到嵌入式样式标签。这样我能修改它使用font-display和少了一个网络请求之前需要字体加载。 
 然后我去跑WebPageTest概要文件。就好多了。 
 回退字体呈现在2.8秒!内容比以前的速度快了近5秒。自定义字体换出5.7秒,2.1秒的速度比以前更快了。在高速网络,这将是一个快速的过程。 
 font-display的问题是什么?它不支持Internet Explorer或边缘,然而。但是你可以投票给它的注意。包括支持边缘和做一些其他的事情,我们可以使用字体观察者图书馆。 
 观察者字体库允许您发现当一个字体加载。开始后退字体,呈现自定义字体的时候。这通常是通过一个类添加到文档切换到自定义字体。 
  
 这个作品就像font-display:交换和阻止该网站遇到FOIT。而不是FOIT,你现在有输出信号。 
 在上面的幻灯片截图回退字体渲染,然后被交换到自定义字体。这个过程被称为输出信号或FOUC(没有任何特色的Flash内容)。当你优先考虑的内容输出信号比FOIT立即因为读者文本。 
 不过,您可能已经注意到回退看起来糟透了。当前后备败坏的语气。此外,自定义字体的交换将是一个巨大的读者的过程。我们想要的是一个微妙的变化。 
 《纽约时报》很好地匹配他们的自定义字体。他们利用格鲁吉亚作为备份切尔滕纳姆和帝国字体。他们确保当字体交换变化是一个微妙的增强。 
 你怎么找到备份的字体吗?你如何确保所有的高度和宽度匹配在一起吗?有一个很好的工具,我们都感谢并遵循莫妮卡Dinculescu。字体样式匹配器是纯金的。 
 使用此工具可以比较两个不同的字体和调整大小的属性让他们比赛。群的调整,你可以找到合适的匹配。 
 没有任何干扰浏览器不会开始下载的字体文件,直到发现它在CSS文件中。我们可以加快速度。我们可以告诉浏览器下载特定资产立即rel =“预”标签的链接。 
 请注意,您必须使用crossorigin字体,即使不是crossorigin资源。只是它是…… 
 使用预加载是伟大的,但是HTTP / 2将是更好的。HTTP / 2将允许您发送资产与初始文档。删除一个往返连接,因此这些“推”资产加载更快。Th 
 是巨大的在一个缓慢的网络延迟高的地方。但伟大的推动是没有准备黄金时段。每个浏览器处理情况不同会导致不确定的结果。 
 一个小而重要的注意。前喜欢的.woff2格式字体.woff格式。.woff2压缩格式提供.woff的上涨30%。在IE或边缘,但您可以提供.woff回退的浏览器。 
  
 输出信号/交换的例子在多个字体渲染阶段的成本提高了性能。仍有改善的空间。已知技术FOFT只依赖于加载罗马变体和浏览器将斜体和粗体版本“假”。在幕后加载斜体和粗体变体和“真正的”版本一旦呈现。 
 这需要构造子集的字体和自我托管字体文件。它减少了大量的字体渲染阶段,大大减少了FOUC。然而,它介绍FOIT的短暂。学习更多关于扎克莱特曼的神奇的文章:“一个全面的指南字体加载策略”。他是世界上最好的web字体专家之一,所以你应该跟随他。 
 这种策略看起来有前途的未来,但它需要更先进的工具。我认为FOFT方法的“额外的一英里”的努力。尝试它,如果你知道你在做什么或者你有额外的周期。 
  
  
 我每周都问你什么是好,什么可能会吸。我读每一块的反馈和工作将成未来的版本。这只是短暂的谷歌的形式。 
 调查链接在这里! 
 联系/隐私政策 
  
   
  URL : https://frontendnews.io/editions/2018-07-25-tips-for-loading-web-fonts?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website