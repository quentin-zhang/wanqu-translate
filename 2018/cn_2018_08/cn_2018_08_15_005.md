霍夫斯塔特定律:它总是花费的时间比你想象的,即使当你考虑霍夫施塔特定律。 
 ——道格拉斯霍夫施塔特,哥德尔,埃舍尔,巴赫 
 写散文,写代码有很多共同点,但也许最大的相似之处是,无论是作家还是 
 程序员可以把事情做好。作家因错过最后期限而臭名昭著。程序员而臭名昭著 
 被广泛的估计。问题是,为什么? 
 今天,我有一个想法如何回答这个问题。我发现的眼睛。 
 我写我的书, 
 你好,启动和 
 起程拓殖:启动和运行, 
 使用阿特拉斯,在Git管理的所有内容。这意味着每一行文本, 
 每个编辑,每一个改变在Git提交日志被捕。 
 那么它真的需要写两本书吗? 
 让我们先从我的第一本书, 
 你好,启动,这是 
 602页,包含约190000个单词。我跑的cloc 
 你好,启动Git存储库和得到以下输出(可读性截断): 
 因此,来自602页26571行文本。绝大多数的那些行 
 AsciiDoc,Markdown-like语言中使用阿特拉斯写几乎 
 所有的内容。其余包括HTML和CSS,用于定义布局和阿特拉斯 
 这本书的结构,再加上一大堆其他编程语言(Java、Ruby、Python等)中使用 
 在这本书的许多代码示例。 
 但602页和26571行我们看到的只是最终的结果。他们不捕获大约10个月 
 写作、修改、编辑、校对、周全、研究,指出,和其他工作。得到 
 更多的信息,我用git-quick-stats分析整个提交 
 日志的书: 
 所以,我增加了163756行和131425行删除,总共生产295181行代码。也就是说,我写 
 和删除295181行26571行产生最终的输出。这是一个超过10:1比例!每1 
 线有出版,我不得不写10 ! 
 我承认行添加和删除在Git中并不是一个完美的衡量编辑过程,但如果有的话, 
 数据低估了工作,尽可能多的编辑过程并不反映在Git提交日志。为 
 例子中,我写了前几章在谷歌文档切换到阿特拉斯和我做了许多轮的编辑 
 我的电脑没有提交。 
 数据远非完美,但我怀疑数量级是正确的:10:1比例的原始文本出版 
 文本。 
 我们来看看这些数字为我的第二本书是相似的, 
 起程拓殖:启动和运行 
 是206页,包含约52000个单词。这是(截断)cloc的输出: 
 那些来自206页8410行文本。大多数文本AsciiDoc,尽管你可以看到这一点 
 本书更多的代码示例,主要在盐酸,底层语言用于起程拓殖。也有 
 大量的减价,我用来记录那些HCL的例子。 
 让我们使用git-quick-stats检查这本书的编辑历史: 
 大约5个月,我添加了32209行和22402行删除,总共生产54611行代码。在 
 这种情况下,编辑过程更加低调,起程拓殖:启动和运行作为开始 
 博客系列,经历 
 大量生产前我搬到阿特拉斯和Git。博文系列是大约一半的长度的书, 
 所以它似乎合理的总生产提高了50%。给了我们54611 * 1.5 = 81916行生产 
 在最终结果产生8410行。 
 再一次,我们看到一个比约为10:1 !难怪作者错过最后期限。我们举行250年时间表 
 页书,但写这样一本书,我们实际上需要写2500页。 
 怎么写代码写一本书比较吗?我决定看一看几个开源Git 
 回购的各种 
 水平的成熟,从几个月大,一直到23岁。 
 terraform-aws-couchbase开源是一组模块 
 2018年AWS上部署和管理他。(截断)cloc输出: 
 这里是git-quick-stats总数: 
 37693行代码生产生产37693的最后一行代码,或5:1的比例。即使在一个不到的回购 
 5个月大的时候,我们已经重写每一行5次!难怪软件估计是很难的。我们提出一个时间 
 估计~ 7500行代码,没有发现我们会写~ 35000行代码到那里! 
 让我们看看会发生什么,当我们看一个稍微年长的代码库。 
 Terratest成立于2016年是一个开源库进行测试 
 基础设施代码。(截断)cloc输出: 
 这里是git-quick-stats总数: 
 49126行代码生产生产49126的最后一行代码,或者一个8:1比~ 2岁的回购。但 
 Terratest仍然相当年轻,让我们回到过去一点。 
 起程拓殖是一个开源库管理在2014年发布 
 基础设施代码。(截断)cloc输出: 
 这里是git-quick-stats总数: 
 12945966行代码生产生产12945966的最后一行代码,或者是9:1的比例。起程拓殖大约是4 
 岁了,但它还没有触及1.0版本,所以即使9:1的比例,它不是一个完全“成熟”的代码库。让我们 
 回去几年。 
 表达是一个流行的开源JavaScript的web框架,它被释放了 
 在2010年。(截断)cloc输出: 
 这里是git-quick-stats总数: 
 224211行代码生产生产224211的最后一行代码,或者14:1比率。在写这篇文章的时候, 
 表达~ 8岁,在版本4。x,最受欢迎和node . js的一些久经沙场的web框架。似乎 
 一旦我们北10:1比例,我们可以非常自信的说“成熟一个代码库。“让我们看看会发生什么 
 我们再进一步。 
 jQuery是一个流行的开源JavaScript库,2006年出版。这是 
 (截断)cloc输出: 
 这里是git-quick-stats总数: 
 730146行代码生产生产730146的最后一行代码,或者比例15:1这~ 12岁的回购。 
 让我们回到另一个10年,我们发现。 
 MySQL是一个很受欢迎的开放源代码关系数据库,1995年出版。 
 (截断)cloc输出: 
 这里是git-quick-stats总数: 
 58562999行代码生产生产58562999的最后一行代码,这个比率或16:1率~ 23岁 
 回购。哇!粗略地说,每一行的MySQL已经重写16倍。 
 这是一个总结的数据我们已经看到书: 
 这是我们所看到的摘要编程: 
 因此所有这些数字是什么意思? 
 给我的数据集是有限的,我只能得出一些初步的结论: 
 “原材料”比“成品”一本书大概是10:1。牢记这一点,下次 
 为时间轴编辑问你!如果你想写一本300页的书,你可能要写 
 3000页。 
 同样,“代码生产”比“行代码”在成熟和非平凡的软件也至少10:1。 
 记住下次经理或客户要求你在一段时间内估计!建立一个10000行程序, 
 希望写大约100000行。 
 本可以概括为我配音的10:1规则写作和编程: 
 好的软件和良好的写作要求每一行被重写,平均至少10倍。 
 当然,代码行和行写是一个完美的指标,但我认为只要有足够的数据,我们可以 
 确定10:1规则实际上成立,如果是有助于改进估计。 
  
 一些问题我很想知道这个问题的答案: 
 如果你写了一本书,可以做一个类似的分析,我想听听你发现的数字!如果任何人有什么 
 自动化这一分析,我想看看比率在不同的开放源代码项目。分享 
 你的想法在评论! 
 这个博客的首页 
 黑客新闻和 
 Reddit的r /编程! 
 从这些讨论两个快速笔记: 
 首先,它看起来像类似10:1规则出现在电影,新闻,音乐, 
 摄影!这太酷了,不是吗? 
 第二,一个常见的反应是,即使一个字符改变可能出现在Git作为一个“插入行”或“删除 
 线”,所以当你看到100000行被改变,这并不意味着所有这些行中的文本重写。 
 这是真的,但是正如我上文所写,也有许多类型的变化缺少数据: 
 我的猜测是,这两个因素大致抵消掉了。它不会准确,当然,实际比例可能8:1或 
 12:1,但数量级可能是正确的,和10:1更容易记住。 
 GitHub用户十边形创建了一个回购 
 hofs-churn包含一个Bash脚本很容易计算代码生产为你 
 Git回购。他还跑在各种开源回购等反应。js、Vue角、RxJava和很多 
 别人,结果是很有趣的! 
  
 如果你喜欢这篇文章,你也喜欢我的书, 
 你好,启动和 
 起程拓殖:启动和运行。 
 如果你需要帮助与DevOps或基础设施,向我伸出援手 
 Gruntwork。 
  
  
   
  URL : https://www.ybrikman.com/writing/2018/08/12/the-10-to-1-rule-of-writing-and-programming/?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website