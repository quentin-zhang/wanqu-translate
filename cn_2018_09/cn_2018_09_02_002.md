你正在读一个条目。 
 回到首页。 
 我一直在做打印稿两年了(!)我是这么想的 
 我会写一篇或两个来反映。我应该开放标准 
 免责声明:我只是一个随机的工程师在一个公司的 
 成千上万的他们,其他人肯定不同意的意见 
 这里表示。 
 谷歌接受早期的web应用程序。你能相信这是14 
 年Gmail被释放?JavaScript是纯粹的 
 疯狂。Gmail工程师不得不担心互联网 
 探险家的穷人,他们需要垃圾收集算法 
 手动葫芦字符串的for循环,避免GC暂停。我 
 最近发现一个设计从那个时代,他们认为做医生 
 今天我们所说的“缩减”JavaScript但指出一些 
 工具仅用于windows的候选人。今天,感觉不可思议。 
 在过去的几年里,Google的基础设施建造了许多做大 
 JavaScript应用程序。例如,有一个模块系统源 
 文件表达他们的相互依赖关系。有一种打包机 
 结合和贬低源文件浏览器兼容工件。 
 分析应用程序依赖图的另一个领域 
 动态可加载块入口点和因素共同的子集 
 服务。服务器端渲染是很常见的。所有这些概念 
 今天是熟悉web开发人员,但谷歌的堆栈早 
 今天的并行进化而来,因此在概念上是相似的 
 但具体完全不同,有不同的流程、工具、和 
 甚至为这些想法的名字。 
 在另一个平行进化的例子,每个谷歌、Facebook、 
 和微软建立相似但不兼容添加静态的编译器 
 检查JavaScript。谷歌的编译器俗称 
 关闭。(不要使用Clojure语言混淆;额外的 
 混乱注意ClojureScript使用编译器关闭。) 
 谷歌的JavaScript堆栈大是不均匀的。它使得谷歌 
 编写和维护web应用程序改变了的脸 
 互联网。(记得出来是多么神奇的地图吗?今天,它 
 看起来无趣地明显的呆滞的地图部件。)有部分 
 它超越今天的最好的技术。例如, 
 关闭编译器仍然可能是最复杂的JavaScript 
 优化器,能够做到优化代码使用类型 
 信息、跨hot-loading块边界内联函数和 
 未使用的代码到个人 
 符号。 
 谷歌的JavaScript堆栈也有问题。增量 
 进化从短绒意味着关闭是一个静态类型的变体 
 JavaScript语言特性介绍了评论的地方。 
 关闭有不可预知的语义,它是缓慢的,车,它 
 会损坏你的代码,除非你把它刚刚好。虽然它是 
 开源的,也许是因为这些原因不是广泛应用于 
 这个行业除了在公司雇佣员工熟悉 
 用它。在谷歌我认为JavaScript低声誉 
 部分原因是我们的工具,结合的冗长 
 静态语言和动态的不可预知性。 
 同时,谷歌以外的JavaScript也继续和发展 
 令人惊讶的是甚至变得流行起来。在一定程度上解决这些IE 
 垃圾收集错误我们建立了Chrome导致v8导致 
 nodejs这意味着大多数web工具今天是自己写的 
 JavaScript与Java用于构建在Google这样的工具。 
 模块系统(UMD格式、AMD、CommonJS)。(ES6也 
 ,发明自己的模块系统不兼容 
 其他人出于某种原因,叹息)npm统一的工具和方式 
 库共享。Webpack可以动态地交换 
 模块进 
 时正在运行的应用程序开发。 
 谷歌使用这些。有经验的webdevs出现在谷歌和 
 这就像访问另一个时间表。在那里 
 的CSS 
 预处理的语言像SASS但不是SASS,没人喜欢 
 它。花式chunk-splitter并不支持第三方 
 JavaScript库,部分是因为之前存在的工具 
 JavaScript库的生态系统。 
 这就是历史。你可以认为我们不应该得到的 
 这个地方,但这并不能改变我们现在在这里。相反, 
 有趣的问题是:我们现在去哪里?有几个选项。 
 我的观点肯定是有偏见的,我喜欢。 
 第一个诱人的选择是放弃这个星球毁了 
 解决一个新的,甚至不需要JavaScript。如果只有我们 
 投资更多的GWT编译Java(谷歌项目 
 JavaScript)或飞镖(谷歌的项目编译一门新语言 
 JavaScript),WASM或者你最喜欢的语言——Clojure插入? 
 可把?榆树吗?我们不需要担心JavaScript ! 
 作为一个PL爱好者我很喜欢这个想法。我想给你 
 应有的仔细分析,但这篇文章足够长和我 
 认为讨论作为自己的帖子。而不是一个完整的 
 驳斥,这里有一些世俗的问题:采用不同 
 语言(1)并没有对数百万行 
 现有的代码,我们“一门新语言从头重写” 
 某些情况下正确的选择,但这是一个激烈的争论 
 最好的利用gmail工程师们的时间,和(2)小 
 我们将上述经验丰富的前端程序员 
 喜欢雇佣。 
 相反的重写一切都没有改变。公众 
 JavaScript的世界,你可以正确地指出,业余 
 代码和leftpad灾害。一个好的工程师可以适应我们 
 特殊的前端,我们总是可以改善或 
 建造更多的工具。我赞同这一观点。我认为 
 有一个点在权衡的空间是有意义的 
 构建自己的工具,和另一个点,到目前为止我们的分歧 
 从我们的工具的主流是一种责任。的观点是 
 然后我们在空间,我也相信我们漂流 
 目前对后者。我们受益于导致LLVM /叮当声 
 因为我们依赖于c++,但我们不会获得更多附加价值 
 从构建我们自己的LLVM。 
 让我中间的路径,我的小团队一直吗 
 追求:渐进地采用一些外部工具 
 意义上,通过找出如何让它与我们现有的互操作 
 代码库。这个任务并不像乐趣——我们不要扔掉 
 我们遗留的混乱和“做对这一次”- - -但是我喜欢思考 
 更谦虚,外在而非内在。 
 第一部分我们的桥从谷歌JavaScript加拉帕戈斯群岛 
 中国大陆是采用支持静态检查器 
 (1)不是本土;(2)受欢迎的已经,而与我们现有的类似 
 代码;(3)设计桥到JavaScript;(4)设计的支持 
 大规模发展,激励我们的定制工具 
 首位。这工具是打印稿。的强度 
 关闭编译器优化的输出,而打印稿有很大 
 用户界面和任何优化。这两个工具 
 补充和(一些工作)可以一起分层。 
 因为打字稿已经主要工作——这是部分原因 
 采用它,毕竟,我们得到许多的好处采用一个 
 建立了语言,从IDE-style代码能够完成 
 StackOverflow检查答案。为我们剩下的工作 
 主要是集成:让我们的应用增量迁移 
 没有从头重写成打印稿。我们融入 
 全局的构建 
 系统是谨慎的 
 增量编译,这是至关重要的对于大型应用程序;的变化 
 一个模块,不会影响其出口API不会引起下游 
 模块重新编译。我们融入关闭t 
 特点/模块 
 可以导入系统意味着ES6打印稿模块 
 Google-module-system模块和 
 相反的,(大部分) 
 类型信息保存。一家公司成功应用的工具 
 我们 
 发表 
 自动翻译整个代码库,同时保留 
 他们缩小输出。 
 在谷歌打印稿现在发现在不同的数量 
 到处都是;很有可能,如果你使用Google产品互动 
 与一些打印稿代码。打印稿本身就是一群 
 有趣的妥协,平衡静态类型的编程 
 语言对自由JavaScript的生态系统。但这是 
 我们工程师做的:我们让有趣的妥协,尝试 
 平衡不同的关注点。我希望写更多在未来 
 我们发现了一些有趣的角落。就像我 
 当我们第一次开始沿着这写道 
 路径, 
 我认为打字稿设计空间内很好地权衡。 
  
   
  URL : http://neugierig.org/software/blog/2018/09/typescript-at-google.html?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website