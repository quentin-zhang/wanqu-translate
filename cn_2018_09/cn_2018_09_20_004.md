Shopify,领先的云,多渠道为600000 +商务平台商人在175多个国家,关键是测试和验证的功能引入新功能的平台。因为公司没有一个QA团队设计、测试特性是开发人员的责任。为此,我们建立了一个项目包含自动化测试步骤执行通过我们的持续集成基础设施(CI)和额外的手动检查由开发人员执行。其中一个手动检查之前尝试更改合并到代码库。我们称这一过程后“tophatting”?emoji.Github的时候没有支持代码审查请求,Shopify依赖emojis轻松交流的状态代码评审过程。?表明审查员不仅看了代码,还跑在本地以确保一切是expected,尤其是interface.变化影响用户顶环过程中,开发人员需要保存他们目前的工作,检验不同的git分支,分支建立当地环境和构建移动开发者的应用。,这个过程往往是乏味的,因为改变git分支缓存无效,增加在Xcode中构建时间和Android工作室。根据项目,它需要15分钟的时间来构建应用程序,在开发人员不能做任何其他工作在相同的项目。消除他们的痛点和促进最佳实践,我们已经创建了一个快速、无摩擦大礼帽CI过程,可以无缝地集成到我们的基础设施和开发,Shopify通用开发工具,所有的移动开发人员在他们的环境中运行。在这篇文章中,我将描述我们如何建立我们的无摩擦顶环过程和告诉你它是什么样子的一个例子。 
 最慢的部分移动大礼帽是编译过程。移动开发者来加快我们跳过编译步骤。我们已经在CI构建应用程序,所以我们创建应用程序二进制文件可在一次性环境运行的公关构建。我们更新了项目管道出口二进制文件,这样我们可以列出,通过CI API来访问它们。根据平台(iOS和Android)导出的应用有不同的格式: 
 一旦应用程序导出我们利用GitHub提交状态让开发人员知道他们的PRs tophattable构建: 
  
 开发是一个内部工具,它提供了一组标准命令所有的项目在公司(你可以阅读更多关于它在devproductivity.io)。的一个命令,后端开发人员使用大礼帽,我们延长了使用支持移动项目。命令的样子: 
 可以是ios和android平台和资源可以有下列: 
 例如,如果一个开发商想顶环拉请求项目35 android,他们可以运行以下命令: 
 开发android大礼帽https://github.com/shopify/android/pulls/35 
 当大礼帽命令运行时,执行以下步骤: 
 下面的例子显示了大礼帽的过程Shopify iOS移动: 
 我们非常高兴与响应收到移动开发者;他们喜欢这个功能。因为我们推出,Shopifolks热情地提交bug报告和建议有许多关于我们如何精益求精大礼帽的过程。的一些改进我们目前将是: 
 测试别人的工作现在比以往更容易。我们的开发人员不需要知道如何设置环境或编译应用程序大礼帽。他们可以运行一个命令和工具并休息。移动工具团队致力于收集反馈和使用我们的移动开发者添加改进和bug修复,促进他们的工作流程。 
  
   
  URL : https://engineering.shopify.com/blogs/engineering/mobile-tophatting-at-shopify-1?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website