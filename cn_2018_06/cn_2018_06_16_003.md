每次你部署的一个软件,你在不知情的情况下把一个婴儿在一个疯狂的骑,你希望部署软件成为一个成年人就会所有应用服务器——有时,有时它不工作。 
 部署对于任何组织来说是一个中心主题。在GO-JEK,我们部署是完全自动的。截止到今天,我们不能手动部署一个服务;服务的复杂性和内部服务沟通是如此复杂,最好为我们机器来解决这一问题。但即使我们完全自动化部署和齿轮对极端的自动化,我们仍然忘记一些事情。“希望部署”是主流,因此著名的引用“巨大的权力,随之而来的是巨大的责任”。我们修改这一点; 
 “伟大的灵活性是与伟大的警告,然后是大国,因此其次是伟大的责任” 
 我在几周前,人们被问及我的清单,为什么?那么,这个清单可以除了数据库更改吗?为什么你会有部署清单的时候一切都是自动的吗?有两个原因让我们有某种理智的疯狂结对编程的世界,TDD和极端要求。 
 但有时多个提交去一个部署。如果我们做一些构建部署后,我们会改变堆积,人很容易忽略缓存更新之前所需的改变或者一些配置构建、尚未部署。这包目前构建。好吧,我们不疯狂,我们尽量不要部署在高交通时间。有时在那些两三个小时,我们可能会得到2,3或者5构建,因为开发人员提交他们的日常工作。 
 有鉴于此,我们开始经历了愚蠢的错误,每次我们去“天屎,我们为什么不想一想呢?”——当你有这些“哦屎”时刻每周超过2倍,是时候为我们重新思考整个过程。 
 GO-JEK工程组织是一个典型的产品。我们不相信流程和层次结构——他们呆在总裁办公室和永远不要看到光明的一天。引入严厉的审批流程与我们的文化,但我们也要确保我们更有纪律。 
 与开发人员/工程师也是一样。如果他们不喜欢它,他们将开始推迟部署——我经历过足够的恐怖故事每月的部署。 
 所以我们提出了简单的规则——这是一个清单,去回答所有的问题——像一个15分钟的考试,文件部署的票,我们将过目一下,你会有一个绿色的信号,按下按钮。如果你部署失败,及时跟进RCA失败,阅读RCA *之后,我会默默地去,缺少检查添加到我们的部署清单。一旦你失败一个构建,然后每个团队成员在团队部署和部署清单。 
 我们介绍了清单之前,我们曾经有大约80%成功在我们的部署;不是因为软件是错误的,而是因为我们忘了一些小东西——通常在两个或三个构建相结合。 
 但是一旦介绍了检查表,结果是惊人的。300 + micro-services和一些~ 2500 +部署一个月,我们有一个最大的6到7失败,相比75%的成功率。我们现在搬到有99.99%部署成功率。 
 我不打算把整个清单在这里,因为这从业务到业务。但是我想把一个粗略的轮廓。希望这个有帮助。 
 (解释整体影响和功能概述,错误的细节) 
 故事/错误报告 
 提交者 
 列出所有提交者,项目领导 
 验收签字 
 服务的影响 
 列出所有服务的影响,为什么?什么样的测试已经完成的每一个 
 他们吗? 
 服务细节 
 服务回滚 
 数据库服务组件, 
 服务组件——安全 
 服务组件——监视 
 这些检查我们做的很少,有时这些不要超过15分钟,有时他们迫使你去思考,并确保你覆盖。我们有更多的关于代理检查,缓存,负载平衡、队列、应用程序组件,客户应用程序和指标计算,数据聚合。 
 这个清单确实帮助我们。它把信任的系统和自动化。这是一个令人惊异的旅程从自动化,完成自动化部署无情的打破系统日常平衡,比例和自动化部署系统。 
 一段旅程! 
 书名灵感来自彼得·普罗诺沃斯特的清单 
 售予 
 rca: 
 RSA的行为导致4 - 1。发生了什么事?2。的影响是什么?3所示。为什么它发生,为什么花时间去补救吗?为什么不auto-heal呢?4所示。行动项目。通常情况下,是这样的:在上午10点开始部署进展机器和我们开始看到错误在负载平衡器和代理 
 从一个快速起立鼓掌欢呼,鼓掌能表示你吃得多喜欢这个故事。 
 在GoJek集团首席技术官。 
 GO-JEK的产品和工程的博客 
  
   
  URL : https://blog.gojekengineering.com/limiting-software-infant-mortality-rate-decoding-gojek-deployment-checklist-1c6cc3e28df?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website